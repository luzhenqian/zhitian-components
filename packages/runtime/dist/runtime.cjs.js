"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("@/packages/reactivity/src"));let n={};class s{constructor(t){this.props=t,this.name=this.constructor.name,this.initState(),this.initEl(),this.mount()}initState(){const t=Object.create(null),n=new e.default(this.update.bind(this));this.state=n.reactive(t),setTimeout(function(){for(let t in this){const e=this[t];"function"!=typeof e&&"el"!==t&&"name"!==t&&"state"!==t&&"props"!==t&&(this.state[t]=e)}}.bind(this))}initEl(){this.el=this.render(this.props,this.state)}mount(t){this.beforeMount&&this.beforeMount(this.props),t&&t.appendChild(this.el),!this._styleMounted&&this._styleMount&&this._styleMount(),this.mounted&&this.mounted(this.props)}unMount(){this.el.parentElement&&this.el.parentElement.removeChild(this.el)}update(){if(!this.el)return;const t=this.el.parentElement;this.unMount(),this.el=this.render(this.props),this.mount(t),r()}emit(t,...e){const n=this.props[t];if("function"===(this.props[t],!1))throw Error(`${t} is not a function`);n(...e)}}function i(t,e){t.append(e),r()}let o=[];function r(){o.forEach(((t,e)=>{t()})),o=[]}s.render=i,s.nextTick=r,s.doNextTickCbFn=r,exports.ZTC=s,exports.createElement=function(t,e,...s){const i=typeof t;let o;return"function"===i?(null===e&&(e={}),n=new t(e,...s),o=n.el):"string"===i&&(o=function(t,e,n,...s){let i=document.createElement(t);e&&Object.keys(e).forEach((t=>{"on"===t.slice(0,2)?"function"==typeof e[t]?i.addEventListener(t.slice(2).toLowerCase(),e[t]):n.methods&&i.addEventListener(t.slice(2).toLowerCase(),n.methods[e[t]].bind(n)):i.setAttribute(t,e[t])}));s.length>0&&i.append(...s);return i}(t,e,n,...s)),o},exports.nextTick=function(t){o.push(t)},exports.render=i;
